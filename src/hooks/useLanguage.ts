import { useState, useEffect } from 'react';

export type Language = 'en' | 'hi' | 'es' | 'fr' | 'de' | 'it' | 'pt' | 'ar' | 'zh' | 'ja' | 'ru' | 'ko';

export const languages = [
  { code: 'en', name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
  { code: 'hi', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'es', name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  { code: 'fr', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
  { code: 'de', name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
  { code: 'it', name: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' },
  { code: 'pt', name: 'PortuguÃªs', flag: 'ğŸ‡µğŸ‡¹' },
  { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
  { code: 'zh', name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  { code: 'ru', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
  { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
];

const translations: Record<string, Record<Language, string>> = {
  // Navigation
  'materials': {
    en: 'Materials',
    hi: 'à¤¸à¤¾à¤®à¤—à¥à¤°à¥€',
    es: 'Materiales',
    fr: 'MatÃ©riaux',
    de: 'Materialien',
    it: 'Materiali',
    pt: 'Materiais',
    ar: 'Ø§Ù„Ù…ÙˆØ§Ø¯',
    zh: 'ææ–™',
    ja: 'ç´ æ',
    ru: 'ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹',
    ko: 'ìë£Œ',
  },
  'gallery': {
    en: 'Gallery',
    hi: 'à¤—à¥ˆà¤²à¤°à¥€',
    es: 'GalerÃ­a',
    fr: 'Galerie',
    de: 'Galerie',
    it: 'Galleria',
    pt: 'Galeria',
    ar: 'Ø§Ù„Ù…Ø¹Ø±Ø¶',
    zh: 'ç”»å»Š',
    ja: 'ã‚®ãƒ£ãƒ©ãƒªãƒ¼',
    ru: 'Ğ“Ğ°Ğ»ĞµÑ€ĞµÑ',
    ko: 'ê°¤ëŸ¬ë¦¬',
  },
  'about': {
    en: 'About',
    hi: 'à¤¹à¤®à¤¾à¤°à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚',
    es: 'Acerca de',
    fr: 'Ã€ propos',
    de: 'Ãœber',
    it: 'Chi siamo',
    pt: 'Sobre',
    ar: 'Ø­ÙˆÙ„',
    zh: 'å…³äº',
    ja: 'æ¦‚è¦',
    ru: 'Ğ Ğ½Ğ°Ñ',
    ko: 'ì†Œê°œ',
  },
  'contact': {
    en: 'Contact',
    hi: 'à¤¸à¤‚à¤ªà¤°à¥à¤•',
    es: 'Contacto',
    fr: 'Contact',
    de: 'Kontakt',
    it: 'Contatto',
    pt: 'Contato',
    ar: 'Ø§ØªØµÙ„',
    zh: 'è”ç³»',
    ja: 'é€£çµ¡å…ˆ',
    ru: 'ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚',
    ko: 'ì—°ë½ì²˜',
  },
  'login': {
    en: 'Login',
    hi: 'à¤²à¥‰à¤—à¤¿à¤¨',
    es: 'Iniciar sesiÃ³n',
    fr: 'Connexion',
    de: 'Anmelden',
    it: 'Accedi',
    pt: 'Entrar',
    ar: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
    zh: 'ç™»å½•',
    ja: 'ãƒ­ã‚°ã‚¤ãƒ³',
    ru: 'Ğ’Ğ¾Ğ¹Ñ‚Ğ¸',
    ko: 'ë¡œê·¸ì¸',
  },
  'admin': {
    en: 'Admin',
    hi: 'à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¾à¤ªà¤•',
    es: 'Administrador',
    fr: 'Administrateur',
    de: 'Administrator',
    it: 'Amministratore',
    pt: 'Administrador',
    ar: 'Ù…Ø³Ø¤Ù„',
    zh: 'ç®¡ç†å‘˜',
    ja: 'ç®¡ç†è€…',
    ru: 'ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€',
    ko: 'ê´€ë¦¬ì',
  },
  'search': {
    en: 'Search materials...',
    hi: 'à¤¸à¤¾à¤®à¤—à¥à¤°à¥€ à¤–à¥‹à¤œà¥‡à¤‚...',
    es: 'Buscar materiales...',
    fr: 'Rechercher des matÃ©riaux...',
    de: 'Materialien suchen...',
    it: 'Cerca materiali...',
    pt: 'Pesquisar materiais...',
    ar: 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ÙˆØ§Ø¯...',
    zh: 'æœç´¢ææ–™...',
    ja: 'ç´ æã‚’æ¤œç´¢...',
    ru: 'Ğ˜ÑĞºĞ°Ñ‚ÑŒ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹...',
    ko: 'ìë£Œ ê²€ìƒ‰...',
  },
  'developerBy': {
    en: 'Developed by',
    hi: 'à¤¦à¥à¤µà¤¾à¤°à¤¾ à¤µà¤¿à¤•à¤¸à¤¿à¤¤',
    es: 'Desarrollado por',
    fr: 'DÃ©veloppÃ© par',
    de: 'Entwickelt von',
    it: 'Sviluppato da',
    pt: 'Desenvolvido por',
    ar: 'Ø·ÙˆØ± Ø¨ÙˆØ§Ø³Ø·Ø©',
    zh: 'å¼€å‘è€…',
    ja: 'é–‹ç™ºè€…',
    ru: 'Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾',
    ko: 'ê°œë°œì',
  },
  'imageGallery': {
    en: 'Image Gallery',
    hi: 'à¤›à¤µà¤¿ à¤—à¥ˆà¤²à¤°à¥€',
    es: 'GalerÃ­a de ImÃ¡genes',
    fr: 'Galerie d\'Images',
    de: 'Bildergalerie',
    it: 'Galleria di Immagini',
    pt: 'Galeria de Imagens',
    ar: 'Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±',
    zh: 'å›¾ç‰‡åº“',
    ja: 'ç”»åƒã‚®ãƒ£ãƒ©ãƒªãƒ¼',
    ru: 'Ğ“Ğ°Ğ»ĞµÑ€ĞµÑ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹',
    ko: 'ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬',
  },
  'browseCollection': {
    en: 'Browse our curated collection organized in beautiful categories',
    hi: 'à¤¸à¥à¤‚à¤¦à¤° à¤¶à¥à¤°à¥‡à¤£à¤¿à¤¯à¥‹à¤‚ à¤®à¥‡à¤‚ à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¿à¤¤ à¤¹à¤®à¤¾à¤°à¥‡ à¤¸à¤‚à¤—à¥à¤°à¤¹ à¤•à¥‹ à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼ à¤•à¤°à¥‡à¤‚',
    es: 'Explore nuestra colecciÃ³n organizada en hermosas categorÃ­as',
    fr: 'Parcourez notre collection organisÃ©e en belles catÃ©gories',
    de: 'Durchsuchen Sie unsere kuratierte Sammlung in schÃ¶nen Kategorien',
    it: 'Sfoglia la nostra collezione organizzata in bellissime categorie',
    pt: 'Navegue pela nossa coleÃ§Ã£o organizada em belas categorias',
    ar: 'ØªØµÙØ­ Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© ÙÙŠ ÙØ¦Ø§Øª Ø¬Ù…ÙŠÙ„Ø©',
    zh: 'æµè§ˆæˆ‘ä»¬ç²¾å¿ƒç­–åˆ’çš„ç¾ä¸½åˆ†ç±»é›†åˆ',
    ja: 'ç¾ã—ã„ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«æ•´ç†ã•ã‚ŒãŸã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–²è¦§',
    ru: 'ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ Ğ½Ğ°ÑˆÑƒ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ñ, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½ÑƒÑ Ğ² ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸',
    ko: 'ì•„ë¦„ë‹¤ìš´ ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì„±ëœ ì»¬ë ‰ì…˜ íƒìƒ‰',
  },
  'searchImages': {
    en: 'Search images...',
    hi: 'à¤›à¤µà¤¿à¤¯à¤¾à¤‚ à¤–à¥‹à¤œà¥‡à¤‚...',
    es: 'Buscar imÃ¡genes...',
    fr: 'Rechercher des images...',
    de: 'Bilder suchen...',
    it: 'Cerca immagini...',
    pt: 'Pesquisar imagens...',
    ar: 'Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØµÙˆØ±...',
    zh: 'æœç´¢å›¾ç‰‡...',
    ja: 'ç”»åƒã‚’æ¤œç´¢...',
    ru: 'Ğ˜ÑĞºĞ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ...',
    ko: 'ì´ë¯¸ì§€ ê²€ìƒ‰...',
  },
  'newest': {
    en: 'Newest',
    hi: 'à¤¨à¤µà¥€à¤¨à¤¤à¤®',
    es: 'MÃ¡s reciente',
    fr: 'Plus rÃ©cent',
    de: 'Neueste',
    it: 'PiÃ¹ recente',
    pt: 'Mais recente',
    ar: 'Ø§Ù„Ø£Ø­Ø¯Ø«',
    zh: 'æœ€æ–°',
    ja: 'æœ€æ–°',
    ru: 'ĞĞ¾Ğ²ĞµĞ¹ÑˆĞ¸Ğµ',
    ko: 'ìµœì‹ ',
  },
  'oldest': {
    en: 'Oldest',
    hi: 'à¤¸à¤¬à¤¸à¥‡ à¤ªà¥à¤°à¤¾à¤¨à¤¾',
    es: 'MÃ¡s antiguo',
    fr: 'Plus ancien',
    de: 'Ã„lteste',
    it: 'PiÃ¹ vecchio',
    pt: 'Mais antigo',
    ar: 'Ø§Ù„Ø£Ù‚Ø¯Ù…',
    zh: 'æœ€æ—§',
    ja: 'æœ€å¤',
    ru: 'Ğ¡Ñ‚Ğ°Ñ€ĞµĞ¹ÑˆĞ¸Ğµ',
    ko: 'ì˜¤ë˜ëœ',
  },
  'featured': {
    en: 'Featured',
    hi: 'à¤«à¥€à¤šà¤°à¥à¤¡',
    es: 'Destacado',
    fr: 'En vedette',
    de: 'Hervorgehoben',
    it: 'In evidenza',
    pt: 'Destaque',
    ar: 'Ù…Ù…ÙŠØ²',
    zh: 'ç²¾é€‰',
    ja: 'æ³¨ç›®',
    ru: 'Ğ˜Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ',
    ko: 'ì¶”ì²œ',
  },
  'images': {
    en: 'images',
    hi: 'à¤›à¤µà¤¿à¤¯à¤¾à¤‚',
    es: 'imÃ¡genes',
    fr: 'images',
    de: 'Bilder',
    it: 'immagini',
    pt: 'imagens',
    ar: 'Ø§Ù„ØµÙˆØ±',
    zh: 'å›¾ç‰‡',
    ja: 'ç”»åƒ',
    ru: 'Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ',
    ko: 'ì´ë¯¸ì§€',
  },
  'total': {
    en: 'Total',
    hi: 'à¤•à¥à¤²',
    es: 'Total',
    fr: 'Total',
    de: 'Gesamt',
    it: 'Totale',
    pt: 'Total',
    ar: 'Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹',
    zh: 'æ€»è®¡',
    ja: 'åˆè¨ˆ',
    ru: 'Ğ’ÑĞµĞ³Ğ¾',
    ko: 'ì „ì²´',
  },
  'uncategorized': {
    en: 'Uncategorized',
    hi: 'à¤…à¤µà¤°à¥à¤—à¥€à¤•à¥ƒà¤¤',
    es: 'Sin categorÃ­a',
    fr: 'Non catÃ©gorisÃ©',
    de: 'Nicht kategorisiert',
    it: 'Non categorizzato',
    pt: 'NÃ£o categorizado',
    ar: 'ØºÙŠØ± Ù…ØµÙ†Ù',
    zh: 'æœªåˆ†ç±»',
    ja: 'æœªåˆ†é¡',
    ru: 'Ğ‘ĞµĞ· ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸',
    ko: 'ë¯¸ë¶„ë¥˜',
  },
  'imagesWithoutCategory': {
    en: 'Images without a category',
    hi: 'à¤¬à¤¿à¤¨à¤¾ à¤¶à¥à¤°à¥‡à¤£à¥€ à¤µà¤¾à¤²à¥€ à¤›à¤µà¤¿à¤¯à¤¾à¤‚',
    es: 'ImÃ¡genes sin categorÃ­a',
    fr: 'Images sans catÃ©gorie',
    de: 'Bilder ohne Kategorie',
    it: 'Immagini senza categoria',
    pt: 'Imagens sem categoria',
    ar: 'ØµÙˆØ± Ø¨Ø¯ÙˆÙ† ÙØ¦Ø©',
    zh: 'æ— ç±»åˆ«å›¾ç‰‡',
    ja: 'ã‚«ãƒ†ã‚´ãƒªãƒ¼ãªã—ã®ç”»åƒ',
    ru: 'Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ±ĞµĞ· ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸',
    ko: 'ì¹´í…Œê³ ë¦¬ ì—†ëŠ” ì´ë¯¸ì§€',
  },
  'prompt': {
    en: 'Prompt',
    hi: 'à¤ªà¥à¤°à¥‰à¤®à¥à¤ªà¥à¤Ÿ',
    es: 'IndicaciÃ³n',
    fr: 'Invite',
    de: 'Eingabeaufforderung',
    it: 'Prompt',
    pt: 'Prompt',
    ar: 'Ù…ÙˆØ¬Ù‡',
    zh: 'æç¤º',
    ja: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ',
    ru: 'ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°',
    ko: 'í”„ë¡¬í”„íŠ¸',
  },
  'tapToRead': {
    en: 'Tap to read',
    hi: 'à¤ªà¤¢à¤¼à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤Ÿà¥ˆà¤ª à¤•à¤°à¥‡à¤‚',
    es: 'Toca para leer',
    fr: 'Appuyez pour lire',
    de: 'Tippen zum Lesen',
    it: 'Tocca per leggere',
    pt: 'Toque para ler',
    ar: 'Ø§Ø¶ØºØ· Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©',
    zh: 'ç‚¹å‡»é˜…è¯»',
    ja: 'ã‚¿ãƒƒãƒ—ã—ã¦èª­ã‚€',
    ru: 'ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ',
    ko: 'ì½ìœ¼ë ¤ë©´ íƒ­í•˜ì„¸ìš”',
  },
};

export const useLanguage = () => {
  const [language, setLanguage] = useState<Language>(() => {
    const saved = localStorage.getItem('app-language');
    return (saved as Language) || 'en';
  });

  useEffect(() => {
    localStorage.setItem('app-language', language);
    // Update HTML lang attribute
    document.documentElement.lang = language;
    
    // Dispatch custom event to notify other components
    window.dispatchEvent(new CustomEvent('languageChange', { detail: language }));
  }, [language]);

  // Listen for language changes from other components
  useEffect(() => {
    const handleLanguageChange = (event: CustomEvent) => {
      setLanguage(event.detail);
    };
    
    window.addEventListener('languageChange', handleLanguageChange as EventListener);
    return () => window.removeEventListener('languageChange', handleLanguageChange as EventListener);
  }, []);

  const t = (key: string): string => {
    return translations[key]?.[language] || key;
  };

  return { language, setLanguage, t, languages };
};
